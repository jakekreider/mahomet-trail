<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mahomet Trail</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-container">
        <!-- Title Screen -->
        <div id="title-screen" class="screen active">
            <div class="title-box">
                <h1 class="game-title">MAHOMET TRAIL</h1>
                <p class="subtitle">A 12-Mile Odyssey</p>
                <div class="title-info">
                    <p>Can you survive the treacherous journey</p>
                    <p>from Champaign to Mahomet?</p>
                    <p class="warning">Many have tried. Some succeeded.</p>
                </div>
                <button id="start-button" class="btn">Begin Your Journey</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <h2 class="location">Champaign, IL â†’ Mahomet, IL</h2>
                <div class="progress-container">
                    <div class="progress-label">
                        <span>Progress: <span id="miles-traveled">0</span> / <span id="total-miles">12</span> miles</span>
                    </div>
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill"></div>
                        <div class="van-icon">ğŸš</div>
                    </div>
                </div>
            </div>

            <!-- Resources -->
            <div class="resources">
                <div class="resource">
                    <span class="resource-label">â›½ Gas:</span>
                    <div class="resource-bar">
                        <div id="gas-bar" class="resource-fill" style="width: 100%"></div>
                    </div>
                    <span id="gas-value" class="resource-value">100</span>
                </div>
                <div class="resource">
                    <span class="resource-label">ğŸ¿ Snacks:</span>
                    <div class="resource-bar">
                        <div id="snacks-bar" class="resource-fill" style="width: 100%"></div>
                    </div>
                    <span id="snacks-value" class="resource-value">100</span>
                </div>
                <div class="resource">
                    <span class="resource-label">ğŸ˜Œ Patience:</span>
                    <div class="resource-bar">
                        <div id="patience-bar" class="resource-fill" style="width: 100%"></div>
                    </div>
                    <span id="patience-value" class="resource-value">100</span>
                </div>
                <div class="resource">
                    <span class="resource-label">ğŸš Van Health:</span>
                    <div class="resource-bar">
                        <div id="van-bar" class="resource-fill" style="width: 100%"></div>
                    </div>
                    <span id="van-value" class="resource-value">100</span>
                </div>
            </div>

            <!-- Event Box -->
            <div id="event-box" class="event-box">
                <h3 id="event-title" class="event-title">Your Journey Begins</h3>
                <p id="event-text" class="event-text">You load up the minivan and pull out of your driveway. Mahomet awaits!</p>
                <div id="event-effects" class="event-effects"></div>
                <button id="continue-button" class="btn">Continue</button>
            </div>

            <!-- Log -->
            <div class="log-container">
                <h4>Journey Log:</h4>
                <div id="log" class="log"></div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="screen">
            <div class="gameover-box">
                <h2 id="gameover-title" class="gameover-title">GAME OVER</h2>
                <p id="gameover-text" class="gameover-text"></p>
                <div id="gameover-stats" class="stats"></div>
                <button id="restart-button" class="btn">Try Again</button>
            </div>
        </div>

        <!-- Victory Screen -->
        <div id="victory-screen" class="screen">
            <div class="victory-box">
                <h2 class="victory-title">ğŸ‰ VICTORY! ğŸ‰</h2>
                <div id="victory-messages" class="victory-messages"></div>
                <div id="victory-stats" class="stats"></div>
                <button id="play-again-button" class="btn">Play Again</button>
            </div>
        </div>

        <!-- Hunting Mini-game Overlay -->
        <div id="hunting-overlay" class="hunting-overlay">
            <canvas id="hunting-canvas"></canvas>

            <div id="hunting-crosshair"></div>

            <div id="hunting-hud">
                <div class="hunting-hud-panel">
                    <div class="hunting-hud-item">TIME: <span id="hunting-timer">30</span>s</div>
                    <div class="hunting-hud-item">AMMO: <span id="hunting-ammo">10</span></div>
                </div>
                <div class="hunting-hud-panel">
                    <div class="hunting-hud-item">ğŸ¿ï¸ Squirrels: <span id="squirrel-count">0</span></div>
                    <div class="hunting-hud-item">ğŸ¦Œ Deer: <span id="deer-count">0</span></div>
                    <div class="hunting-hud-item">ğŸ± Cats: <span id="cat-count">0</span></div>
                </div>
            </div>

            <div id="hunting-instructions">
                Click to lock mouse | WASD to move | Mouse to aim | Click to shoot | ESC to unlock
            </div>

            <div id="hunting-lock-prompt">
                Click to Start Hunting
            </div>

            <!-- Mobile Controls -->
            <div id="mobile-joystick" class="mobile-joystick">
                <div id="mobile-joystick-stick" class="mobile-joystick-stick"></div>
            </div>

            <button id="mobile-shoot-btn" class="mobile-shoot-btn">SHOOT</button>

            <div id="hunting-result-screen">
                <div class="hunting-result-box">
                    <div class="hunting-result-title">HUNTING COMPLETE</div>
                    <div class="hunting-result-stats">
                        <div>ğŸ¿ï¸ Squirrels Shot: <span id="final-squirrels">0</span></div>
                        <div>ğŸ¦Œ Deer Shot: <span id="final-deer">0</span></div>
                        <div>ğŸ± Cats Shot: <span id="final-cats">0</span></div>
                    </div>
                    <div class="hunting-snacks-gained">
                        Snacks Gained: +<span id="snacks-amount">0</span>
                    </div>
                    <button class="btn" id="hunting-continue-btn">Continue Journey</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Load game data and main game logic -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="gamedata.js"></script>
    <script src="game.js"></script>
</body>
</html>
